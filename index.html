<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>街プロポーズ装置</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: radial-gradient(circle at center, #fff0f5, #ffd1dc);
    font-family: "Hiragino Mincho ProN", serif;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    overflow: hidden;
  }

  #container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  #inputArea {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  input, button {
    font-size: 6vw;
    padding: 3vw;
    margin: 2vw;
    max-width: 90%;
  }

  #message {
    font-size: 10vw; /* 画面幅の割合で文字サイズ調整 */
    line-height: 1.2;
    text-align: center;
    opacity: 0;
    transition: opacity 1s ease;
    word-break: break-word;
    white-space: pre-wrap;
  }

  .sparkle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: white;
    border-radius: 50%;
    animation: sparkle 2s linear infinite;
  }

  @keyframes sparkle {
    from { transform: translateY(0) scale(1); opacity: 1; }
    to { transform: translateY(-100px) scale(0); opacity: 0; }
  }
</style>
</head>
<body>

<div id="container">
  <div id="inputArea">
    <p style="font-size:6vw;">合言葉を入力してください</p>
    <input id="codeInput" placeholder="合言葉">
    <button onclick="showMessage()">表示</button>
  </div>
  <div id="message"></div>
</div>

<script>
  // デモ用：合言葉と名前の対応
  const codeToName = {
    "A7K9": "はなこ",
    "B2X1": "さくら",
    "C3M5": "ゆり"
  };

  function createSparkle() {
    const s = document.createElement("div");
    s.className = "sparkle";
    s.style.left = Math.random() * 100 + "vw";
    s.style.top = Math.random() * 100 + "vh";
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 2000);
  }

  function showMessage() {
    const code = document.getElementById("codeInput").value.trim();
    const name = codeToName[code];
    if (name) {
      document.getElementById("inputArea").style.display = "none";
      const msg = document.getElementById("message");
      msg.textContent = `${name}、結婚してくれ`;
      msg.style.opacity = 1;
      // キラキラ演出
      setInterval(createSparkle, 200);
    } else {
      alert("合言葉が違います");
    }
  }
</script>

</body>
</html>
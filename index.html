<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>街プロポーズ装置</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: radial-gradient(circle at center, #fff0f5, #ffd1dc);
    font-family: "Hiragino Mincho ProN", serif;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  #container {
    max-width: 90%;
  }

  input, button {
    font-size: 20px;
    padding: 10px;
    margin: 5px;
  }

  #message {
    font-size: 10vw;
    margin-top: 20px;
    opacity: 0;
    transition: opacity 1s ease;
  }

  .sparkle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: white;
    border-radius: 50%;
    animation: sparkle 2s linear infinite;
  }

  @keyframes sparkle {
    from { transform: translateY(0) scale(1); opacity: 1; }
    to { transform: translateY(-100px) scale(0); opacity: 0; }
  }
</style>
</head>
<body>

<div id="container">
  <div id="inputArea">
    <p>合言葉を入力してください：</p>
    <input id="codeInput" placeholder="合言葉">
    <button onclick="showMessage()">表示</button>
  </div>
  <div id="message"></div>
</div>

<script>
  // デモ用：合言葉と名前の対応（本番はサーバーで管理）
  const codeToName = {
    "A7K9": "はなこ",
    "B2X1": "さくら",
    "C3M5": "ゆり"
  };

  function createSparkle() {
    const s = document.createElement("div");
    s.className = "sparkle";
    s.style.left = Math.random() * 100 + "vw";
    s.style.top = Math.random() * 100 + "vh";
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 2000);
  }

  function showMessage() {
    const code = document.getElementById("codeInput").value;
    const name = codeToName[code];
    const msg = document.getElementById("message");
    if (name) {
      document.getElementById("inputArea").style.display = "none";
      msg.textContent = `${name}、結婚してくれ`;
      msg.style.opacity = 1;
      setInterval(createSparkle, 200);
    } else {
      alert("合言葉が違います");
    }
  }
</script>

</body>
</html>
